<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9.7 High-quality graphics | R Markdown Cookbook</title>
  <meta name="description" content="Examples, tips, and tricks of using R Markdown." />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="9.7 High-quality graphics | R Markdown Cookbook" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Examples, tips, and tricks of using R Markdown." />
  <meta name="github-repo" content="yihui/rmarkdown-cookbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9.7 High-quality graphics | R Markdown Cookbook" />
  
  <meta name="twitter:description" content="Examples, tips, and tricks of using R Markdown." />
  

<meta name="author" content="Yihui Xie" />


<meta name="date" content="2020-02-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="fig-process.html"/>
<link rel="next" href="option-hooks.html"/>
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<script src="libs/viz/viz.js"></script>
<link href="libs/DiagrammeR-styles/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding/grViz.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/box.css" type="text/css" />
</head>

<body onload="window.location = 'https://bookdown.org/yihui'+location.pathname">



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Markdown Cookbook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="how-to-read-this-book.html"><a href="how-to-read-this-book.html"><i class="fa fa-check"></i>How to read this book</a></li>
<li class="chapter" data-level="" data-path="structure-of-the-book.html"><a href="structure-of-the-book.html"><i class="fa fa-check"></i>Structure of the book</a></li>
<li class="chapter" data-level="" data-path="software-info.html"><a href="software-info.html"><i class="fa fa-check"></i>Software information and conventions</a></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="author.html"><a href="author.html"><i class="fa fa-check"></i>About the Authors</a></li>
<li class="chapter" data-level="1" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>1</b> Installation</a><ul>
<li class="chapter" data-level="1.1" data-path="install-latex.html"><a href="install-latex.html"><i class="fa fa-check"></i><b>1.1</b> Install LaTeX for PDF reports</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> Basics</a><ul>
<li class="chapter" data-level="2.1" data-path="r-markdown-components.html"><a href="r-markdown-components.html"><i class="fa fa-check"></i><b>2.1</b> R Markdown components</a></li>
<li class="chapter" data-level="2.2" data-path="spin.html"><a href="spin.html"><i class="fa fa-check"></i><b>2.2</b> Render an R script to a report</a></li>
<li class="chapter" data-level="2.3" data-path="purl.html"><a href="purl.html"><i class="fa fa-check"></i><b>2.3</b> Convert R Markdown to R script</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="document-elements.html"><a href="document-elements.html"><i class="fa fa-check"></i><b>3</b> Document Elements</a><ul>
<li class="chapter" data-level="3.1" data-path="bibliography.html"><a href="bibliography.html"><i class="fa fa-check"></i><b>3.1</b> Bibliographies and citations</a><ul>
<li class="chapter" data-level="3.1.1" data-path="bibliography.html"><a href="bibliography.html#changing-citation-style"><i class="fa fa-check"></i><b>3.1.1</b> Changing citation style</a></li>
<li class="chapter" data-level="3.1.2" data-path="bibliography.html"><a href="bibliography.html#add-an-item-to-bibliography-without-using-it"><i class="fa fa-check"></i><b>3.1.2</b> Add an item to bibliography without using it</a></li>
<li class="chapter" data-level="3.1.3" data-path="bibliography.html"><a href="bibliography.html#add-all-items-to-bibliography"><i class="fa fa-check"></i><b>3.1.3</b> Add all items to bibliography</a></li>
<li class="chapter" data-level="3.1.4" data-path="bibliography.html"><a href="bibliography.html#include-appendix-after-bibliography"><i class="fa fa-check"></i><b>3.1.4</b> Include appendix after bibliography</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="write-bib.html"><a href="write-bib.html"><i class="fa fa-check"></i><b>3.2</b> Generate R package citations</a></li>
<li class="chapter" data-level="3.3" data-path="cross-ref.html"><a href="cross-ref.html"><i class="fa fa-check"></i><b>3.3</b> Cross-referencing within documents</a></li>
<li class="chapter" data-level="3.4" data-path="update-date.html"><a href="update-date.html"><i class="fa fa-check"></i><b>3.4</b> Update the date automatically</a></li>
<li class="chapter" data-level="3.5" data-path="multiple-authors.html"><a href="multiple-authors.html"><i class="fa fa-check"></i><b>3.5</b> Multiple authors in a document</a></li>
<li class="chapter" data-level="3.6" data-path="figure-number.html"><a href="figure-number.html"><i class="fa fa-check"></i><b>3.6</b> Numbered figure captions</a></li>
<li class="chapter" data-level="3.7" data-path="combine-words.html"><a href="combine-words.html"><i class="fa fa-check"></i><b>3.7</b> Combine words into a comma-separated phrase</a></li>
<li class="chapter" data-level="3.8" data-path="linebreaks.html"><a href="linebreaks.html"><i class="fa fa-check"></i><b>3.8</b> Preserve a large number of linebreaks</a></li>
<li class="chapter" data-level="3.9" data-path="code-appendix.html"><a href="code-appendix.html"><i class="fa fa-check"></i><b>3.9</b> Put together all code in the appendix</a></li>
<li class="chapter" data-level="3.10" data-path="equatiomatic.html"><a href="equatiomatic.html"><i class="fa fa-check"></i><b>3.10</b> Convert models to equations</a></li>
<li class="chapter" data-level="3.11" data-path="animation.html"><a href="animation.html"><i class="fa fa-check"></i><b>3.11</b> Create an animation from multiple R plots</a></li>
<li class="chapter" data-level="3.12" data-path="comments.html"><a href="comments.html"><i class="fa fa-check"></i><b>3.12</b> Comment out text</a></li>
<li class="chapter" data-level="3.13" data-path="toc-unlisted.html"><a href="toc-unlisted.html"><i class="fa fa-check"></i><b>3.13</b> Omit a heading in the table of contents</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="formatting.html"><a href="formatting.html"><i class="fa fa-check"></i><b>4</b> Formatting</a><ul>
<li class="chapter" data-level="4.1" data-path="font-color.html"><a href="font-color.html"><i class="fa fa-check"></i><b>4.1</b> Font color</a></li>
<li class="chapter" data-level="4.2" data-path="indent-text.html"><a href="indent-text.html"><i class="fa fa-check"></i><b>4.2</b> Indent text</a></li>
<li class="chapter" data-level="4.3" data-path="number-lines.html"><a href="number-lines.html"><i class="fa fa-check"></i><b>4.3</b> Line numbers for code blocks</a></li>
<li class="chapter" data-level="4.4" data-path="verbatim-code-chunks.html"><a href="verbatim-code-chunks.html"><i class="fa fa-check"></i><b>4.4</b> Verbatim code chunks</a><ul>
<li class="chapter" data-level="4.4.1" data-path="verbatim-code-chunks.html"><a href="verbatim-code-chunks.html#show-a-verbatim-inline-expression"><i class="fa fa-check"></i><b>4.4.1</b> Show a verbatim inline expression</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="multi-column-layout.html"><a href="multi-column-layout.html"><i class="fa fa-check"></i><b>4.5</b> Multi-column layout</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="latex-output.html"><a href="latex-output.html"><i class="fa fa-check"></i><b>5</b> LaTeX Output</a><ul>
<li class="chapter" data-level="5.1" data-path="latex-preamble.html"><a href="latex-preamble.html"><i class="fa fa-check"></i><b>5.1</b> Add LaTeX code to the preamble</a></li>
<li class="chapter" data-level="5.2" data-path="latex-logo.html"><a href="latex-logo.html"><i class="fa fa-check"></i><b>5.2</b> Add logo to title page</a></li>
<li class="chapter" data-level="5.3" data-path="latex-extra.html"><a href="latex-extra.html"><i class="fa fa-check"></i><b>5.3</b> Include additional LaTeX packages</a><ul>
<li class="chapter" data-level="5.3.1" data-path="latex-extra.html"><a href="latex-extra.html#loading-latex-packages"><i class="fa fa-check"></i><b>5.3.1</b> Loading LaTeX packages</a></li>
<li class="chapter" data-level="5.3.2" data-path="latex-extra.html"><a href="latex-extra.html#example-packages"><i class="fa fa-check"></i><b>5.3.2</b> Example packages</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="latex-template.html"><a href="latex-template.html"><i class="fa fa-check"></i><b>5.4</b> Use a custom Pandoc LaTeX template</a></li>
<li class="chapter" data-level="5.5" data-path="figure-placement.html"><a href="figure-placement.html"><i class="fa fa-check"></i><b>5.5</b> Control the placement of figures</a><ul>
<li class="chapter" data-level="5.5.1" data-path="figure-placement.html"><a href="figure-placement.html#floating-environments"><i class="fa fa-check"></i><b>5.5.1</b> Floating environments</a></li>
<li class="chapter" data-level="5.5.2" data-path="figure-placement.html"><a href="figure-placement.html#prevent-figures-from-floating"><i class="fa fa-check"></i><b>5.5.2</b> Prevent figures from floating</a></li>
<li class="chapter" data-level="5.5.3" data-path="figure-placement.html"><a href="figure-placement.html#force-floats-forwards"><i class="fa fa-check"></i><b>5.5.3</b> Force floats forwards</a></li>
<li class="chapter" data-level="5.5.4" data-path="figure-placement.html"><a href="figure-placement.html#adjust-latex-placement-rules"><i class="fa fa-check"></i><b>5.5.4</b> Adjust LaTeX placement rules</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="latex-header.html"><a href="latex-header.html"><i class="fa fa-check"></i><b>5.6</b> Add custom headers and footers</a></li>
<li class="chapter" data-level="5.7" data-path="latex-subfigure.html"><a href="latex-subfigure.html"><i class="fa fa-check"></i><b>5.7</b> LaTeX sub-figures</a></li>
<li class="chapter" data-level="5.8" data-path="latex-hardcore.html"><a href="latex-hardcore.html"><i class="fa fa-check"></i><b>5.8</b> For hardcore LaTeX users</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="html-output.html"><a href="html-output.html"><i class="fa fa-check"></i><b>6</b> HTML Output</a><ul>
<li class="chapter" data-level="6.1" data-path="html-css.html"><a href="html-css.html"><i class="fa fa-check"></i><b>6.1</b> Apply custom CSS</a></li>
<li class="chapter" data-level="6.2" data-path="html-template.html"><a href="html-template.html"><i class="fa fa-check"></i><b>6.2</b> Use a custom HTML template</a></li>
<li class="chapter" data-level="6.3" data-path="chunk-styling.html"><a href="chunk-styling.html"><i class="fa fa-check"></i><b>6.3</b> Style code blocks and text output</a></li>
<li class="chapter" data-level="6.4" data-path="html-scroll.html"><a href="html-scroll.html"><i class="fa fa-check"></i><b>6.4</b> Scrollable code blocks</a></li>
<li class="chapter" data-level="6.5" data-path="html-tabs.html"><a href="html-tabs.html"><i class="fa fa-check"></i><b>6.5</b> Put content in tabs</a></li>
<li class="chapter" data-level="6.6" data-path="embed-rmd.html"><a href="embed-rmd.html"><i class="fa fa-check"></i><b>6.6</b> Embed the Rmd source file in the HTML output file</a></li>
<li class="chapter" data-level="6.7" data-path="embed-file.html"><a href="embed-file.html"><i class="fa fa-check"></i><b>6.7</b> Embed arbitrary files in the HTML output file</a></li>
<li class="chapter" data-level="6.8" data-path="html-hardcore.html"><a href="html-hardcore.html"><i class="fa fa-check"></i><b>6.8</b> For hardcore HTML users</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="word.html"><a href="word.html"><i class="fa fa-check"></i><b>7</b> Word</a><ul>
<li class="chapter" data-level="7.1" data-path="word-template.html"><a href="word-template.html"><i class="fa fa-check"></i><b>7.1</b> Custom Word templates</a></li>
<li class="chapter" data-level="7.2" data-path="word-redoc.html"><a href="word-redoc.html"><i class="fa fa-check"></i><b>7.2</b> The two-way workflow between R Markdown and Word</a></li>
<li class="chapter" data-level="7.3" data-path="word-officedown.html"><a href="word-officedown.html"><i class="fa fa-check"></i><b>7.3</b> Style individual elements</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="multi-formats.html"><a href="multi-formats.html"><i class="fa fa-check"></i><b>8</b> Multiple Output Formats</a><ul>
<li class="chapter" data-level="8.1" data-path="latex-html.html"><a href="latex-html.html"><i class="fa fa-check"></i><b>8.1</b> LaTeX or HTML output</a></li>
<li class="chapter" data-level="8.2" data-path="html-widgets.html"><a href="html-widgets.html"><i class="fa fa-check"></i><b>8.2</b> Display HTML widgets</a></li>
<li class="chapter" data-level="8.3" data-path="figures-side.html"><a href="figures-side.html"><i class="fa fa-check"></i><b>8.3</b> Multiple figures side-by-side</a></li>
<li class="chapter" data-level="8.4" data-path="custom-blocks.html"><a href="custom-blocks.html"><i class="fa fa-check"></i><b>8.4</b> Custom blocks</a><ul>
<li class="chapter" data-level="8.4.1" data-path="custom-blocks.html"><a href="custom-blocks.html#block-syntax"><i class="fa fa-check"></i><b>8.4.1</b> Syntax</a></li>
<li class="chapter" data-level="8.4.2" data-path="custom-blocks.html"><a href="custom-blocks.html#block-shaded"><i class="fa fa-check"></i><b>8.4.2</b> Adding a shaded box</a></li>
<li class="chapter" data-level="8.4.3" data-path="custom-blocks.html"><a href="custom-blocks.html#block-image"><i class="fa fa-check"></i><b>8.4.3</b> Including icons</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chunk-options.html"><a href="chunk-options.html"><i class="fa fa-check"></i><b>9</b> Chunk Options</a><ul>
<li class="chapter" data-level="9.1" data-path="cache.html"><a href="cache.html"><i class="fa fa-check"></i><b>9.1</b> Cache time-consuming code chunks</a></li>
<li class="chapter" data-level="9.2" data-path="cache-path.html"><a href="cache-path.html"><i class="fa fa-check"></i><b>9.2</b> Cache a code chunk for multiple output formats</a></li>
<li class="chapter" data-level="9.3" data-path="hide-one.html"><a href="hide-one.html"><i class="fa fa-check"></i><b>9.3</b> Hide code, text output, messages, or plots</a></li>
<li class="chapter" data-level="9.4" data-path="hide-all.html"><a href="hide-all.html"><i class="fa fa-check"></i><b>9.4</b> Hide everything from a chunk</a></li>
<li class="chapter" data-level="9.5" data-path="opts-comment.html"><a href="opts-comment.html"><i class="fa fa-check"></i><b>9.5</b> Remove leading hashes in text output</a></li>
<li class="chapter" data-level="9.6" data-path="fig-process.html"><a href="fig-process.html"><i class="fa fa-check"></i><b>9.6</b> Post-process plots</a></li>
<li class="chapter" data-level="9.7" data-path="graphical-device.html"><a href="graphical-device.html"><i class="fa fa-check"></i><b>9.7</b> High-quality graphics</a></li>
<li class="chapter" data-level="9.8" data-path="option-hooks.html"><a href="option-hooks.html"><i class="fa fa-check"></i><b>9.8</b> Option hooks</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="output-hooks.html"><a href="output-hooks.html"><i class="fa fa-check"></i><b>10</b> Output Hooks</a><ul>
<li class="chapter" data-level="10.1" data-path="hook-hide.html"><a href="hook-hide.html"><i class="fa fa-check"></i><b>10.1</b> Redact source code</a></li>
<li class="chapter" data-level="10.2" data-path="hook-number.html"><a href="hook-number.html"><i class="fa fa-check"></i><b>10.2</b> Add line numbers to source code</a></li>
<li class="chapter" data-level="10.3" data-path="hook-scroll.html"><a href="hook-scroll.html"><i class="fa fa-check"></i><b>10.3</b> Scrollable text output</a></li>
<li class="chapter" data-level="10.4" data-path="hook-truncate.html"><a href="hook-truncate.html"><i class="fa fa-check"></i><b>10.4</b> Truncate text output</a></li>
<li class="chapter" data-level="10.5" data-path="hook-html5.html"><a href="hook-html5.html"><i class="fa fa-check"></i><b>10.5</b> Output figures in the HTML5 format</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="chunk-hooks.html"><a href="chunk-hooks.html"><i class="fa fa-check"></i><b>11</b> Chunk Hooks</a></li>
<li class="chapter" data-level="12" data-path="knitr-misc.html"><a href="knitr-misc.html"><i class="fa fa-check"></i><b>12</b> Miscellaneous knitr Tricks</a><ul>
<li class="chapter" data-level="12.1" data-path="load-cache.html"><a href="load-cache.html"><i class="fa fa-check"></i><b>12.1</b> Use an object before it is created</a></li>
<li class="chapter" data-level="12.2" data-path="knit-exit.html"><a href="knit-exit.html"><i class="fa fa-check"></i><b>12.2</b> Exit knitting early</a></li>
<li class="chapter" data-level="12.3" data-path="fig-chunk.html"><a href="fig-chunk.html"><i class="fa fa-check"></i><b>12.3</b> Generate a plot and display it elsewhere</a></li>
<li class="chapter" data-level="12.4" data-path="duplicate-label.html"><a href="duplicate-label.html"><i class="fa fa-check"></i><b>12.4</b> Allow duplicate labels in code chunks</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i><b>13</b> Tables</a><ul>
<li class="chapter" data-level="13.1" data-path="kable.html"><a href="kable.html"><i class="fa fa-check"></i><b>13.1</b> The function <code>knitr::kable()</code></a><ul>
<li class="chapter" data-level="13.1.1" data-path="kable.html"><a href="kable.html#kable-formats"><i class="fa fa-check"></i><b>13.1.1</b> Possible table formats</a></li>
<li class="chapter" data-level="13.1.2" data-path="kable.html"><a href="kable.html#change-column-names"><i class="fa fa-check"></i><b>13.1.2</b> Change column names</a></li>
<li class="chapter" data-level="13.1.3" data-path="kable.html"><a href="kable.html#specify-column-alignment"><i class="fa fa-check"></i><b>13.1.3</b> Specify column alignment</a></li>
<li class="chapter" data-level="13.1.4" data-path="kable.html"><a href="kable.html#kable-caption"><i class="fa fa-check"></i><b>13.1.4</b> Add a table caption</a></li>
<li class="chapter" data-level="13.1.5" data-path="kable.html"><a href="kable.html#format-numeric-columns"><i class="fa fa-check"></i><b>13.1.5</b> Format numeric columns</a></li>
<li class="chapter" data-level="13.1.6" data-path="kable.html"><a href="kable.html#display-missing-values"><i class="fa fa-check"></i><b>13.1.6</b> Display missing values</a></li>
<li class="chapter" data-level="13.1.7" data-path="kable.html"><a href="kable.html#escape-special-characters"><i class="fa fa-check"></i><b>13.1.7</b> Escape special characters</a></li>
<li class="chapter" data-level="13.1.8" data-path="kable.html"><a href="kable.html#multiple-tables-side-by-side"><i class="fa fa-check"></i><b>13.1.8</b> Multiple tables side by side</a></li>
<li class="chapter" data-level="13.1.9" data-path="kable.html"><a href="kable.html#generate-multiple-tables-from-a-for-loop"><i class="fa fa-check"></i><b>13.1.9</b> Generate multiple tables from a <code>for</code>-loop</a></li>
<li class="chapter" data-level="13.1.10" data-path="kable.html"><a href="kable.html#customize-latex-tables"><i class="fa fa-check"></i><b>13.1.10</b> Customize LaTeX tables</a></li>
<li class="chapter" data-level="13.1.11" data-path="kable.html"><a href="kable.html#customize-html-tables"><i class="fa fa-check"></i><b>13.1.11</b> Customize HTML tables</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="kableextra.html"><a href="kableextra.html"><i class="fa fa-check"></i><b>13.2</b> kableExtra</a><ul>
<li class="chapter" data-level="13.2.1" data-path="kableextra.html"><a href="kableextra.html#setup"><i class="fa fa-check"></i><b>13.2.1</b> Setup</a></li>
<li class="chapter" data-level="13.2.2" data-path="kableextra.html"><a href="kableextra.html#customizing-html"><i class="fa fa-check"></i><b>13.2.2</b> Customizing HTML</a></li>
<li class="chapter" data-level="13.2.3" data-path="kableextra.html"><a href="kableextra.html#customizing-pdf"><i class="fa fa-check"></i><b>13.2.3</b> Customizing PDF</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="table-ext.html"><a href="table-ext.html"><i class="fa fa-check"></i><b>13.3</b> Extension packages</a><ul>
<li class="chapter" data-level="13.3.1" data-path="table-ext.html"><a href="table-ext.html#stargazer"><i class="fa fa-check"></i><b>13.3.1</b> stargazer</a></li>
<li class="chapter" data-level="13.3.2" data-path="table-ext.html"><a href="table-ext.html#gt"><i class="fa fa-check"></i><b>13.3.2</b> gt</a></li>
<li class="chapter" data-level="13.3.3" data-path="table-ext.html"><a href="table-ext.html#flextable"><i class="fa fa-check"></i><b>13.3.3</b> flextable</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="other-languages.html"><a href="other-languages.html"><i class="fa fa-check"></i><b>14</b> Other Languages</a><ul>
<li class="chapter" data-level="14.1" data-path="eng-cat.html"><a href="eng-cat.html"><i class="fa fa-check"></i><b>14.1</b> Write the chunk content to a file via the <code>cat</code> engine</a><ul>
<li class="chapter" data-level="14.1.1" data-path="eng-cat.html"><a href="eng-cat.html#about-the-cat-engine"><i class="fa fa-check"></i><b>14.1.1</b> About the <code>cat</code> engine</a></li>
<li class="chapter" data-level="14.1.2" data-path="eng-cat.html"><a href="eng-cat.html#generate-a-template-file-from-inside-the-rmarkdown"><i class="fa fa-check"></i><b>14.1.2</b> Generate a template file from inside the rmarkdown</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="managing-projects.html"><a href="managing-projects.html"><i class="fa fa-check"></i><b>15</b> Managing Projects</a><ul>
<li class="chapter" data-level="15.1" data-path="source-script.html"><a href="source-script.html"><i class="fa fa-check"></i><b>15.1</b> Source external R scripts</a></li>
<li class="chapter" data-level="15.2" data-path="option-code.html"><a href="option-code.html"><i class="fa fa-check"></i><b>15.2</b> Read external scripts into a chunk</a></li>
<li class="chapter" data-level="15.3" data-path="read-chunk.html"><a href="read-chunk.html"><i class="fa fa-check"></i><b>15.3</b> Read multiple code chunks from an external script</a></li>
<li class="chapter" data-level="15.4" data-path="package-vignette.html"><a href="package-vignette.html"><i class="fa fa-check"></i><b>15.4</b> R package vignettes</a></li>
<li class="chapter" data-level="15.5" data-path="child-document.html"><a href="child-document.html"><i class="fa fa-check"></i><b>15.5</b> Child documents</a></li>
<li class="chapter" data-level="15.6" data-path="bookdown.html"><a href="bookdown.html"><i class="fa fa-check"></i><b>15.6</b> Using bookdown</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>16</b> Workflow</a><ul>
<li class="chapter" data-level="16.1" data-path="rstudio-shortcuts.html"><a href="rstudio-shortcuts.html"><i class="fa fa-check"></i><b>16.1</b> RStudio keyboard shortcuts</a></li>
<li class="chapter" data-level="16.2" data-path="rmarkdown-render.html"><a href="rmarkdown-render.html"><i class="fa fa-check"></i><b>16.2</b> Render R Markdown with <code>rmarkdown::render()</code></a></li>
<li class="chapter" data-level="16.3" data-path="parameterized-reports.html"><a href="parameterized-reports.html"><i class="fa fa-check"></i><b>16.3</b> Parameterized reports</a></li>
<li class="chapter" data-level="16.4" data-path="custom-knit.html"><a href="custom-knit.html"><i class="fa fa-check"></i><b>16.4</b> Customize the <code>Knit</code> button</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="diagrams.html"><a href="diagrams.html"><i class="fa fa-check"></i><b>17</b> Diagrams</a><ul>
<li class="chapter" data-level="17.1" data-path="basic-diagrams.html"><a href="basic-diagrams.html"><i class="fa fa-check"></i><b>17.1</b> Basic diagrams</a></li>
<li class="chapter" data-level="17.2" data-path="adding-parameters-to-plots.html"><a href="adding-parameters-to-plots.html"><i class="fa fa-check"></i><b>17.2</b> Adding parameters to plots</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Markdown Cookbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="graphical-device" class="section level2">
<h2><span class="header-section-number">9.7</span> High-quality graphics</h2>
<p>The <strong>rmarkdown</strong> package has set reasonable default graphical devices for different output formats. For example, HTML output formats use the <code>png()</code> device, so <strong>knitr</strong> will generate PNG plot files, and PDF output formats use the <code>pdf()</code> device, etc. If you are not satisfied by the quality of the default graphical devices, you can change them via the chunk option <code>dev</code>. All possible devices supported by <strong>knitr</strong> are: <code>&quot;bmp&quot;</code>, <code>&quot;postscript&quot;</code>, <code>&quot;pdf&quot;</code>, <code>&quot;png&quot;</code>, <code>&quot;svg&quot;</code>, <code>&quot;jpeg&quot;</code>, <code>&quot;pictex&quot;</code>, <code>&quot;tiff&quot;</code>, <code>&quot;win.metafile&quot;</code>, <code>&quot;cairo_pdf&quot;</code>, <code>&quot;cairo_ps&quot;</code>, <code>&quot;quartz_pdf&quot;</code>, <code>&quot;quartz_png&quot;</code>, <code>&quot;quartz_jpeg&quot;</code>, <code>&quot;quartz_tiff&quot;</code>, <code>&quot;quartz_gif&quot;</code>, <code>&quot;quartz_psd&quot;</code>, <code>&quot;quartz_bmp&quot;</code>, <code>&quot;CairoJPEG&quot;</code>, <code>&quot;CairoPNG&quot;</code>, <code>&quot;CairoPS&quot;</code>, <code>&quot;CairoPDF&quot;</code>, <code>&quot;CairoSVG&quot;</code>, <code>&quot;CairoTIFF&quot;</code>, <code>&quot;Cairo_pdf&quot;</code>, <code>&quot;Cairo_png&quot;</code>, <code>&quot;Cairo_ps&quot;</code>, <code>&quot;Cairo_svg&quot;</code>, <code>&quot;svglite&quot;</code>, and <code>&quot;tikz&quot;</code>.</p>
<p>Usually a graphical device name is also a function name. If you want to know more about a device, you can read the R help page. For example, you can type <code>?svg</code> in the R console to know the details about the <code>svg</code> device, which is included in base R. Note that the <code>quartz_*</code> devices are based on the <code>quartz()</code> function, and they are only available on macOS. The <code>CairoXXX</code> devices are from the add-on R package <strong>Cairo</strong>, the <code>Cairo_xxx</code> devices are from the <strong>cairoDevice</strong> package, the <code>svglite</code> device is from the <strong>svglite</strong> package, and <code>tikz</code> is a device in the <strong>tikzDevice</strong> package. If you want to use devices from an add-on package, you have to install the package first.</p>
<p>Usually vector graphics have higher quality than raster graphics, and you can scale vector graphics without loss of quality. For HTML output, you may consider using <code>dev = &quot;svg&quot;</code> or <code>dev = &quot;svglite&quot;</code> for SVG plots. Note that SVG is a vector graphics format, and the default <code>png</code> device produces a raster graphics format.</p>
<p>For PDF output, if you are really picky about the typeface in your plots, you may use <code>dev = &quot;tikz&quot;</code>, because it offers native support for LaTeX, which means all elements in a plot, including text and symbols, are rendered in high quality through LaTeX. Figure <a href="graphical-device.html#fig:dev-tikz">9.2</a> shows an example of writing LaTeX math expressions in an R plot rendered with the chunk option <code>dev = &quot;tikz&quot;</code>.</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb153-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="fl">.1</span>))</a>
<a class="sourceLine" id="cb153-2" data-line-number="2"><span class="kw">curve</span>(dnorm, <span class="dv">-3</span>, <span class="dv">3</span>, <span class="dt">xlab =</span> <span class="st">&#39;$x$&#39;</span>, <span class="dt">ylab =</span> <span class="st">&#39;$</span><span class="ch">\\</span><span class="st">phi(x)$&#39;</span>,</a>
<a class="sourceLine" id="cb153-3" data-line-number="3">      <span class="dt">main =</span> <span class="st">&#39;The density function of $N(0, 1)$&#39;</span>)</a>
<a class="sourceLine" id="cb153-4" data-line-number="4"><span class="kw">text</span>(<span class="op">-</span><span class="dv">1</span>, <span class="fl">.2</span>, <span class="dt">cex =</span> <span class="dv">3</span>, <span class="dt">col =</span> <span class="st">&#39;blue&#39;</span>,</a>
<a class="sourceLine" id="cb153-5" data-line-number="5">  <span class="st">&#39;$</span><span class="ch">\\</span><span class="st">phi(x)=</span><span class="ch">\\</span><span class="st">frac{1}{</span><span class="ch">\\</span><span class="st">sqrt{2</span><span class="ch">\\</span><span class="st">pi}}e^{</span><span class="ch">\\</span><span class="st">frac{-x^2}{2}}$&#39;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:dev-tikz"></span>
<img src="rmarkdown-cookbook_files/figure-html/dev-tikz-1.png" alt="A plot rendered via the tikz device." width="576" />
<p class="caption">
FIGURE 9.2: A plot rendered via the tikz device.
</p>
</div>
<p>Note that base R actually supports math expressions, but they are not rendered via LaTeX (see <code>?plotmath</code> for details). There are several advanced options to tune the typesetting details of the <code>tikz</code> device. You may see <code>?tikzDevice::tikz</code> for the possibilities. For example, if your plot contains multibyte characters, you may want to set the option:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb154-1" data-line-number="1"><span class="kw">options</span>(<span class="dt">tikzDefaultEngine =</span> <span class="st">&quot;xetex&quot;</span>)</a></code></pre></div>
<p>That is because <code>xetex</code> is usually better than the default engine <code>pdftex</code> in processing multibyte characters in LaTeX documents.</p>
<p>There are two major disadvantages of the <code>tikz</code> device. First, it requires a LaTeX installation, but this may not be too bad (see Section <a href="install-latex.html#install-latex">1.1</a>). Second, it is often significantly slower to render the plots, because this device generates a LaTeX file and has to compile it to PDF. If you feel the code chunk is time-consuming, you may enable caching by the chunk option <code>cache = TRUE</code>.</p>
<p>For Figure <a href="graphical-device.html#fig:dev-tikz">9.2</a>, we also used the chunk option <code>fig.process = pdf2png</code>, where the function <code>pdf2png</code> is defined in Section <a href="fig-process.html#fig-process">9.6</a> to convert the PDF plot to PNG when the output format is not LaTeX. Without the conversion, you may not be able to view the PDF plot in the online version of this book in the web browser.</p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="fig-process.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="option-hooks.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yihui/rmarkdown-cookbook/edit/master/09-chunk-options.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
